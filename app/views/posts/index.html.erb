<% #This page displays all the post of a user %>

<%= image_tag @user.photo, alt: 'user photo', class: 'users-posts' %>
<h1><%= @user.name %></h1>
Number of posts: <%= @user.posts_counter %>

<ul>
  <% @user.posts.each_with_index do |post, index| %>
    <li>
      Post <%= index + 1 %> <br><br>
      <%= link_to post.title, user_post_path(@user, post) %>
      <br>
      Comments: <%= post.comments_counter %>, Likes: <%= post.likes_counter %>
      
      <ul>
        <% post.recent_comments.each do |comment| %>
          <li><%= @user.name %>: <%= comment.text %></li>
        <% end %>
      </ul>
    </li>
  <% end %>
</ul>
